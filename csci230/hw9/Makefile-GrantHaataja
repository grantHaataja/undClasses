#Grant Haataja
#Assignment 9: Makefile

#define COMPILER variable
COMPILER = gcc

#define COMPILER FLAGS
FLAGS = -c -Wall -fPIC

#define object files
OBJECTS = hw6-A-GrantHaataja.o hw6-B-GrantHaataja.o hw6-C-GrantHaataja.o hw6-D-GrantHaataja.o hw6-GrantHaataja.o

#define c files
CODE = hw6-A-GrantHaataja.c hw6-B-GrantHaataja.c hw6-C-GrantHaataja.c hw6-D-GrantHaataja.c hw6-GrantHaataja.c

#define TARGET output filename
TARGET = hw9

all: $(TARGET)

$(TARGET): $(OBJECTS)
	$(COMPILER) -Wall -o $(TARGET) $(OBJECTS)
	
sharedlib:
	$(COMPILER) $(FLAGS) $(CODE)
	$(COMPILER) -shared -o libHW9.so $(OBJECTS)

#clean up the mess
clean:
	rm -f $(OBJECTS) $(TARGET) *.tar*

#make a zip of all the contents of the folder
targz:
	rm -f *.tar*
	tar -czvf hw6-GrantHaataja.tar.gz *.c *.h Makefile* hw6 *.data
